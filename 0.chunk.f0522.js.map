{"version":3,"sources":["webpack:///0.chunk.f0522.js","webpack:///./routes/movies/style.css","webpack:///./components/movie/style.css","webpack:///./components/movie/index.js","webpack:///./components/genre/style.css","webpack:///./components/genre/index.js","webpack:///./routes/movies/index.js"],"names":["webpackJsonp","32yg","module","exports","bottom","I8zr","image","card","IDJJ","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1_classnames__","n","__WEBPACK_IMPORTED_MODULE_1_classnames___default","__WEBPACK_IMPORTED_MODULE_2__genre__","__WEBPACK_IMPORTED_MODULE_3__style__","__WEBPACK_IMPORTED_MODULE_3__style___default","_ref2","i","href","class","_Component","Movie","this","apply","arguments","render","_ref","movie","img","a","src","poster_path","title","overview","genres","map","genre","WFoQ","btnGenre","glyphiconTag","g28g","__WEBPACK_IMPORTED_MODULE_2__style__","__WEBPACK_IMPORTED_MODULE_2__style___default","gvyV","_objectDestructuringEmpty","obj","defineProperty","__WEBPACK_IMPORTED_MODULE_1__components_movie__","_ref3","Movies","_this","state","movies","take","onIntersection","entries","entry","isIntersecting","length","setState","observer","IntersectionObserver","POLL_INTERVAL","componentDidMount","_this2","fetch","then","rsp","json","observe","componentWillUnmount","unobserve","_this3","slice","ref","el"],"mappings":"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","file":"0.chunk.f0522.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"32yg\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"bottom\":\"bottom__30p9O\"};\n\n/***/ }),\n\n/***/ \"I8zr\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"image\":\"image__SnfLG\",\"card\":\"card__1Wg4S\"};\n\n/***/ }),\n\n/***/ \"IDJJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames__ = __webpack_require__(\"9qb7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__genre__ = __webpack_require__(\"g28g\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__style__ = __webpack_require__(\"I8zr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__style__);\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar _ref2 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  \"a\",\n  { href: \"#\", \"class\": \"btn btn-primary\" },\n  \"Read More\"\n);\n\nvar Movie = function (_Component) {\n  _inherits(Movie, _Component);\n\n  function Movie() {\n    _classCallCheck(this, Movie);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  Movie.prototype.render = function render(_ref) {\n    var movie = _ref.movie;\n\n    var img = null;\n\n    img = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      \"div\",\n      {\n        \"class\": __WEBPACK_IMPORTED_MODULE_1_classnames___default()(\"float-left\", \"d-none\", \"d-md-block\", __WEBPACK_IMPORTED_MODULE_3__style___default.a.image)\n      },\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\"img\", { src: \"//image.tmdb.org/t/p/w150\" + movie.poster_path })\n    );\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      \"div\",\n      { \"class\": __WEBPACK_IMPORTED_MODULE_1_classnames___default()(\"card\", __WEBPACK_IMPORTED_MODULE_3__style___default.a.card) },\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        \"h3\",\n        { \"class\": \"card-header\" },\n        movie.title\n      ),\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        \"div\",\n        { \"class\": \"card-body\" },\n        img,\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          \"p\",\n          { \"class\": \"card-text\" },\n          movie.overview\n        ),\n        _ref2,\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          \"span\",\n          { \"class\": \"float-right\" },\n          movie.genres.map(function (genre) {\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_2__genre__[\"a\" /* default */], { genre: genre });\n          })\n        )\n      )\n    );\n  };\n\n  return Movie;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Movie);\n\n/***/ }),\n\n/***/ \"WFoQ\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"btnGenre\":\"btnGenre__27u4n\",\"glyphiconTag\":\"glyphiconTag__gsr5K\"};\n\n/***/ }),\n\n/***/ \"g28g\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames__ = __webpack_require__(\"9qb7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style__ = __webpack_require__(\"WFoQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__style__);\n\n\n\n\n\nvar Genre = function Genre(_ref) {\n  var genre = _ref.genre;\n\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    \"button\",\n    { \"class\": __WEBPACK_IMPORTED_MODULE_1_classnames___default()(\"btn\", \"btn-info\", \"btn-xs\", __WEBPACK_IMPORTED_MODULE_2__style___default.a.btnGenre) },\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\"span\", {\n      \"class\": __WEBPACK_IMPORTED_MODULE_1_classnames___default()(\"glyphicon\", \"glyphicon-tag\", __WEBPACK_IMPORTED_MODULE_2__style___default.a.glyphiconTag)\n    }),\n    genre\n  );\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Genre);\n\n/***/ }),\n\n/***/ \"gvyV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_movie__ = __webpack_require__(\"IDJJ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style__ = __webpack_require__(\"32yg\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__style__);\n\n\nfunction _objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure undefined\"); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar _ref3 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  \"h1\",\n  null,\n  \"Movies\"\n);\n\nvar Movies = function (_Component) {\n  _inherits(Movies, _Component);\n\n  function Movies() {\n    _classCallCheck(this, Movies);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this));\n\n    _this.state = {\n      movies: [],\n      take: 5\n    };\n\n    _this.onIntersection = function (entries) {\n      var entry = entries[0];\n      if (entry && entry.isIntersecting && _this.state.take < _this.state.movies.length) {\n        _this.setState(function (state) {\n          return { take: state.take + 5 };\n        });\n      }\n    };\n\n    _this.observer = new IntersectionObserver(_this.onIntersection);\n    _this.observer.POLL_INTERVAL = 100; // Time in milliseconds for the polyfill.\n    return _this;\n  }\n\n  Movies.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    fetch(\"/api/movies.json\").then(function (rsp) {\n      return rsp.json();\n    }).then(function (movies) {\n      return _this2.setState(function () {\n        return { movies: movies };\n      });\n    }).then(function () {\n      _this2.observer.observe(_this2.bottom);\n    });\n  };\n\n  Movies.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.observer.unobserve(this.bottom);\n  };\n\n  Movies.prototype.render = function render(_ref, _ref2) {\n    var _this3 = this;\n\n    var movies = _ref2.movies,\n        take = _ref2.take;\n\n    _objectDestructuringEmpty(_ref);\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      \"div\",\n      null,\n      _ref3,\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        \"div\",\n        null,\n        movies.slice(0, take).map(function (movie) {\n          return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_1__components_movie__[\"a\" /* default */], { movie: movie });\n        })\n      ),\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\"div\", {\n        \"class\": __WEBPACK_IMPORTED_MODULE_2__style___default.a.bottom,\n        ref: function ref(el) {\n          _this3.bottom = el;\n        }\n      })\n    );\n  };\n\n  return Movies;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Movies);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 0.chunk.f0522.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"bottom\":\"bottom__30p9O\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/movies/style.css\n// module id = 32yg\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"image\":\"image__SnfLG\",\"card\":\"card__1Wg4S\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/movie/style.css\n// module id = I8zr\n// module chunks = 0","import { h, Component } from \"preact\";\r\nimport classnames from \"classnames\";\r\nimport Genre from \"../genre\";\r\nimport style from \"./style\";\r\n\r\nclass Movie extends Component {\r\n  render({ movie }) {\r\n    let img = null;\r\n\r\n    img = (\r\n      <div\r\n        class={classnames(\"float-left\", \"d-none\", \"d-md-block\", style.image)}\r\n      >\r\n        <img src={`//image.tmdb.org/t/p/w150${movie.poster_path}`} />\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <div class={classnames(\"card\", style.card)}>\r\n        <h3 class=\"card-header\">{movie.title}</h3>\r\n        <div class=\"card-body\">\r\n          {img}\r\n          <p class=\"card-text\">{movie.overview}</p>\r\n          <a href=\"#\" class=\"btn btn-primary\">\r\n            Read More\r\n          </a>\r\n          <span class=\"float-right\">\r\n            {movie.genres.map(genre => <Genre genre={genre} />)}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movie;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/movie/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"btnGenre\":\"btnGenre__27u4n\",\"glyphiconTag\":\"glyphiconTag__gsr5K\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/genre/style.css\n// module id = WFoQ\n// module chunks = 0","import { h, Component } from \"preact\";\r\nimport classnames from \"classnames\";\r\nimport style from \"./style\";\r\n\r\nconst Genre = ({ genre }) => {\r\n  return (\r\n    <button class={classnames(\"btn\", \"btn-info\", \"btn-xs\", style.btnGenre)}>\r\n      <span\r\n        class={classnames(\"glyphicon\", \"glyphicon-tag\", style.glyphiconTag)}\r\n      />\r\n      {genre}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Genre;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/genre/index.js","import { h, Component } from \"preact\";\r\n\r\nimport Movie from \"../../components/movie\";\r\nimport style from \"./style\";\r\n\r\nclass Movies extends Component {\r\n  state = {\r\n    movies: [],\r\n    take: 5\r\n  };\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.observer = new IntersectionObserver(this.onIntersection);\r\n    this.observer.POLL_INTERVAL = 100; // Time in milliseconds for the polyfill.\r\n  }\r\n\r\n  onIntersection = entries => {\r\n    const entry = entries[0];\r\n    if (\r\n      entry &&\r\n      entry.isIntersecting &&\r\n      this.state.take < this.state.movies.length\r\n    ) {\r\n      this.setState(state => ({ take: state.take + 5 }));\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    fetch(\"/api/movies.json\")\r\n      .then(rsp => rsp.json())\r\n      .then(movies => this.setState(() => ({ movies })))\r\n      .then(() => {\r\n        this.observer.observe(this.bottom);\r\n      });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.observer.unobserve(this.bottom);\r\n  }\r\n\r\n  render({}, { movies, take }) {\r\n    return (\r\n      <div>\r\n        <h1>Movies</h1>\r\n\r\n        <div>{movies.slice(0, take).map(movie => <Movie movie={movie} />)}</div>\r\n\r\n        <div\r\n          class={style.bottom}\r\n          ref={el => {\r\n            this.bottom = el;\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movies;\r\n\n\n\n// WEBPACK FOOTER //\n// ./routes/movies/index.js"],"sourceRoot":""}