{"version":3,"sources":["webpack:///0.chunk.ba6ed.js","webpack:///./routes/movies/style.css","webpack:///./components/movie/style.css","webpack:///./components/movie/index.js","webpack:///./components/genre/style.css","webpack:///./components/genre/index.js","webpack:///./routes/movies/index.js"],"names":["webpackJsonp","32yg","module","exports","bottom","I8zr","image","card","IDJJ","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1_preact_router_match__","n","__WEBPACK_IMPORTED_MODULE_2_classnames__","__WEBPACK_IMPORTED_MODULE_2_classnames___default","__WEBPACK_IMPORTED_MODULE_3__genre__","__WEBPACK_IMPORTED_MODULE_4__style__","__WEBPACK_IMPORTED_MODULE_4__style___default","_Component","Movie","this","apply","arguments","render","_ref","movie","isMediumScreen","img","i","class","a","src","poster_path","title","overview","href","id","genres","map","genre","WFoQ","btnGenre","g28g","__WEBPACK_IMPORTED_MODULE_1_classnames__","__WEBPACK_IMPORTED_MODULE_1_classnames___default","__WEBPACK_IMPORTED_MODULE_2__style__","__WEBPACK_IMPORTED_MODULE_2__style___default","gvyV","_objectDestructuringEmpty","obj","defineProperty","__WEBPACK_IMPORTED_MODULE_1__components_movie__","_ref3","Movies","_this","onIntersection","entries","entry","isIntersecting","state","take","movies","length","setState","onMediaQueryListChanged","e","matches","observer","IntersectionObserver","POLL_INTERVAL","mediaQueryList","matchMedia","componentDidMount","_this2","fetch","then","rsp","json","observe","addListener","componentWillUnmount","unobserve","removeListener","_ref2","_this3","slice","ref","el"],"mappings":"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","file":"0.chunk.ba6ed.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"32yg\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"bottom\":\"bottom__30p9O\"};\n\n/***/ }),\n\n/***/ \"I8zr\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"image\":\"image__SnfLG\",\"card\":\"card__1Wg4S\"};\n\n/***/ }),\n\n/***/ \"IDJJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact_router_match__ = __webpack_require__(\"sw5u\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact_router_match___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_preact_router_match__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_classnames__ = __webpack_require__(\"9qb7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__genre__ = __webpack_require__(\"g28g\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__style__ = __webpack_require__(\"I8zr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__style__);\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar Movie = function (_Component) {\n  _inherits(Movie, _Component);\n\n  function Movie() {\n    _classCallCheck(this, Movie);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  Movie.prototype.render = function render(_ref) {\n    var movie = _ref.movie,\n        isMediumScreen = _ref.isMediumScreen;\n\n    var img = null;\n\n    if (isMediumScreen) {\n      img = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        \"div\",\n        {\n          \"class\": __WEBPACK_IMPORTED_MODULE_2_classnames___default()(\"float-left\", \"d-none\", \"d-md-block\", __WEBPACK_IMPORTED_MODULE_4__style___default.a.image)\n        },\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\"img\", { src: \"//image.tmdb.org/t/p/w150\" + movie.poster_path })\n      );\n    }\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      \"div\",\n      { \"class\": __WEBPACK_IMPORTED_MODULE_2_classnames___default()(\"card\", __WEBPACK_IMPORTED_MODULE_4__style___default.a.card) },\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        \"h3\",\n        { \"class\": \"card-header\" },\n        movie.title\n      ),\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        \"div\",\n        { \"class\": \"card-body\" },\n        img,\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          \"p\",\n          { \"class\": \"card-text\" },\n          movie.overview\n        ),\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          __WEBPACK_IMPORTED_MODULE_1_preact_router_match__[\"Link\"],\n          { href: \"/movie/\" + movie.id + \"/\" + movie.title, \"class\": \"btn btn-primary\" },\n          \"Read More\"\n        ),\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          \"span\",\n          { \"class\": \"float-right\" },\n          movie.genres.map(function (genre) {\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_3__genre__[\"a\" /* default */], { genre: genre });\n          })\n        )\n      )\n    );\n  };\n\n  return Movie;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Movie);\n\n/***/ }),\n\n/***/ \"WFoQ\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"btnGenre\":\"btnGenre__27u4n\"};\n\n/***/ }),\n\n/***/ \"g28g\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames__ = __webpack_require__(\"9qb7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style__ = __webpack_require__(\"WFoQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__style__);\n\n\n\n\n\nvar Genre = function Genre(_ref) {\n  var genre = _ref.genre;\n\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    \"button\",\n    { \"class\": __WEBPACK_IMPORTED_MODULE_1_classnames___default()(\"btn\", \"btn-info\", \"btn-sm\", __WEBPACK_IMPORTED_MODULE_2__style___default.a.btnGenre) },\n    genre\n  );\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Genre);\n\n/***/ }),\n\n/***/ \"gvyV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_movie__ = __webpack_require__(\"IDJJ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style__ = __webpack_require__(\"32yg\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__style__);\n\n\nfunction _objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure undefined\"); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar _ref3 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  \"h1\",\n  null,\n  \"Movies\"\n);\n\nvar Movies = function (_Component) {\n  _inherits(Movies, _Component);\n\n  function Movies() {\n    _classCallCheck(this, Movies);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this));\n\n    _this.onIntersection = function (entries) {\n      var entry = entries[0];\n      if (entry && entry.isIntersecting && _this.state.take < _this.state.movies.length) {\n        _this.setState(function (state) {\n          return { take: state.take + 5 };\n        });\n      }\n    };\n\n    _this.onMediaQueryListChanged = function (e) {\n      if (e.matches !== _this.state.isMediumScreen) {\n        _this.setState({ isMediumScreen: e.matches });\n      }\n    };\n\n    _this.observer = new IntersectionObserver(_this.onIntersection);\n    _this.observer.POLL_INTERVAL = 100; // Time in milliseconds for the polyfill.\n    _this.mediaQueryList = matchMedia(\"(min-width: 768px)\");\n\n    _this.state = {\n      movies: [],\n      take: 5,\n      isMediumScreen: _this.mediaQueryList.matches\n    };\n    return _this;\n  }\n\n  Movies.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    fetch(\"/api/movies.json\").then(function (rsp) {\n      return rsp.json();\n    }).then(function (movies) {\n      return _this2.setState(function () {\n        return { movies: movies };\n      });\n    }).then(function () {\n      _this2.observer.observe(_this2.bottom);\n    });\n\n    this.mediaQueryList.addListener(this.onMediaQueryListChanged);\n  };\n\n  Movies.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.observer.unobserve(this.bottom);\n    this.mediaQueryList.removeListener(this.onMediaQueryListChanged);\n  };\n\n  Movies.prototype.render = function render(_ref, _ref2) {\n    var _this3 = this;\n\n    var movies = _ref2.movies,\n        take = _ref2.take,\n        isMediumScreen = _ref2.isMediumScreen;\n\n    _objectDestructuringEmpty(_ref);\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      \"div\",\n      null,\n      _ref3,\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        \"div\",\n        null,\n        movies.slice(0, take).map(function (movie) {\n          return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_1__components_movie__[\"a\" /* default */], { movie: movie, isMediumScreen: isMediumScreen });\n        })\n      ),\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\"div\", { \"class\": __WEBPACK_IMPORTED_MODULE_2__style___default.a.bottom, ref: function ref(el) {\n          return _this3.bottom = el;\n        } })\n    );\n  };\n\n  return Movies;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Movies);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 0.chunk.ba6ed.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"bottom\":\"bottom__30p9O\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/movies/style.css\n// module id = 32yg\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"image\":\"image__SnfLG\",\"card\":\"card__1Wg4S\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/movie/style.css\n// module id = I8zr\n// module chunks = 0","import { h, Component } from \"preact\";\r\nimport { Link } from \"preact-router/match\";\r\nimport classnames from \"classnames\";\r\nimport Genre from \"../genre\";\r\nimport style from \"./style\";\r\n\r\nclass Movie extends Component {\r\n  render({ movie, isMediumScreen }) {\r\n    let img = null;\r\n\r\n    if (isMediumScreen) {\r\n      img = (\r\n        <div\r\n          class={classnames(\"float-left\", \"d-none\", \"d-md-block\", style.image)}\r\n        >\r\n          <img src={`//image.tmdb.org/t/p/w150${movie.poster_path}`} />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div class={classnames(\"card\", style.card)}>\r\n        <h3 class=\"card-header\">{movie.title}</h3>\r\n        <div class=\"card-body\">\r\n          {img}\r\n          <p class=\"card-text\">{movie.overview}</p>\r\n          <Link href={`/movie/${movie.id}/${movie.title}`} class=\"btn btn-primary\">\r\n            Read More\r\n          </Link>\r\n          <span class=\"float-right\">\r\n            {movie.genres.map(genre => <Genre genre={genre} />)}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movie;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/movie/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"btnGenre\":\"btnGenre__27u4n\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/genre/style.css\n// module id = WFoQ\n// module chunks = 0","import { h, Component } from \"preact\";\r\nimport classnames from \"classnames\";\r\nimport style from \"./style\";\r\n\r\nconst Genre = ({ genre }) => {\r\n  return (\r\n    <button class={classnames(\"btn\", \"btn-info\", \"btn-sm\", style.btnGenre)}>\r\n      {genre}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Genre;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/genre/index.js","import { h, Component } from \"preact\";\r\n\r\nimport Movie from \"../../components/movie\";\r\nimport style from \"./style\";\r\n\r\nclass Movies extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.observer = new IntersectionObserver(this.onIntersection);\r\n    this.observer.POLL_INTERVAL = 100; // Time in milliseconds for the polyfill.\r\n    this.mediaQueryList = matchMedia(\"(min-width: 768px)\");\r\n\r\n    this.state = {\r\n      movies: [],\r\n      take: 5,\r\n      isMediumScreen: this.mediaQueryList.matches\r\n    };\r\n  }\r\n\r\n  onIntersection = entries => {\r\n    const entry = entries[0];\r\n    if (\r\n      entry &&\r\n      entry.isIntersecting &&\r\n      this.state.take < this.state.movies.length\r\n    ) {\r\n      this.setState(state => ({ take: state.take + 5 }));\r\n    }\r\n  };\r\n\r\n  onMediaQueryListChanged = e => {\r\n    if (e.matches !== this.state.isMediumScreen) {\r\n      this.setState({ isMediumScreen: e.matches });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    fetch(\"/api/movies.json\")\r\n      .then(rsp => rsp.json())\r\n      .then(movies => this.setState(() => ({ movies })))\r\n      .then(() => {\r\n        this.observer.observe(this.bottom);\r\n      });\r\n\r\n    this.mediaQueryList.addListener(this.onMediaQueryListChanged);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.observer.unobserve(this.bottom);\r\n    this.mediaQueryList.removeListener(this.onMediaQueryListChanged);\r\n  }\r\n\r\n  render({}, { movies, take, isMediumScreen }) {\r\n    return (\r\n      <div>\r\n        <h1>Movies</h1>\r\n\r\n        <div>\r\n          {movies\r\n            .slice(0, take)\r\n            .map(movie => (\r\n              <Movie movie={movie} isMediumScreen={isMediumScreen} />\r\n            ))}\r\n        </div>\r\n\r\n        <div class={style.bottom} ref={el => (this.bottom = el)} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movies;\r\n\n\n\n// WEBPACK FOOTER //\n// ./routes/movies/index.js"],"sourceRoot":""}